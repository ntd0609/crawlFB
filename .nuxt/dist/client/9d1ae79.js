(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{481:function(e,t,n){"use strict";n.r(t);var r=n(6);n(34),n(55),n(56),n(29),n(57),n(58),n(144),n(45),n(35),n(46),n(15),n(21),n(36),n(89),n(42),n(447),n(44),n(448),n(449),n(286),n(41);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,a){if(e){if("string"==typeof e)return c(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,a):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,l=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw l}}}}function c(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=Array(a);t<a;t++)n[t]=e[t];return n}var l,d,f,h,k,m,v,_,x,y,w,T,R,S,C,j,O,L={data:function(){return{cookie_text:"",token_fullpermission:"",token_bm:"",active_tab:"b",multipleSelection:[],list_token:[],cookie_token:"",loading_AddToken:!1,loading_data:!0,loading_check:!1,pager:1,count:0,limit:10,count_live:0,count_die:0,count_used:0,loading_remove_token:!1,count_pagination:0,live:void 0,type_cookie:void 0,type:null,loading_export:!1,loading_convert:!1,list_permission_use:[],list_type:[{label:"Cookie",type:"danger",value:"cookie"},{label:"Token",type:"warning",value:"token"},{label:"Tất cả",type:"primary",value:void 0}]}},created:(O=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.GetInfo();case 2:return e.next=4,this.LoadToken();case 4:this.count_pagination=this.count;case 5:case"end":return e.stop()}}),e,this)}))),function(){return O.apply(this,arguments)}),computed:{list_cookie:function(){return this.cookie_text.split("\n").filter((function(e){return e.includes("c_user=")}))},permission:function(){return this.list_permission_use.map((function(e){return e.value}))},list_cookie_token:function(){return this.cookie_token.split("\n").map((function(e){return e.trim()}))},cookie:function(){return"cookie"===this.type_cookie?{contains:"c_user"}:"token"===this.type_cookie?"":void 0}},methods:{GetTokenBM:(j=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.post("/api/token/convert-bm",{cookie:t});case 3:return n=e.sent,data=n.data,e.abrupt("return",this.token_bm+=data.toString()+"\n");case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",this.token_bm+="\n");case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return j.apply(this,arguments)}),GetTokenFullPermission:(C=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.post("/api/token/convert-fullpermission",{cookie:t});case 3:return n=e.sent,data=n.data,e.abrupt("return",this.token_fullpermission+=data.toString()+"\n");case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",this.token_fullpermission+="\n");case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return C.apply(this,arguments)}),ConvertToken:(S=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loading_convert=!0,t=o(this.list_cookie),e.prev=2,r=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.value,e.next=3,Promise.all([c.GetTokenFullPermission(t)]);case 3:c.cookie_text=c.list_cookie.filter((function(e){return e.trim()!==t.trim()})).join("\n");case 4:case"end":return e.stop()}}),e)})),t.s();case 5:if((n=t.n()).done){e.next=9;break}return e.delegateYield(r(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),t.e(e.t1);case 14:return e.prev=14,t.f(),e.finish(14);case 17:this.loading_convert=!1;case 19:case"end":return e.stop()}}),e,this,[[2,11,14,17]])}))),function(){return S.apply(this,arguments)}),RemoveTokenDie:(R=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading_remove_token=!0,e.next=3,this.$axios.post("/api/token/remove-token-die");case 3:return this.$confirm("Đã hoàn thành tiến trình","Hoàn thành",{confirmButtonText:"OK",showCancelButton:!1,type:"success"}),this.loading_remove_token=!1,e.next=7,this.LoadToken();case 7:case"end":return e.stop()}}),e,this)}))),function(){return R.apply(this,arguments)}),ExportTokenDie:(T=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,link;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading_export=!0,e.next=3,this.$axios.post("/api/token/download-token-die",{},{responseType:"blob"});case 3:return t=e.sent,n=window.URL.createObjectURL(new Blob([t.data])),(link=document.createElement("a")).href=n,link.setAttribute("download","file.txt"),document.body.appendChild(link),link.click(),this.loading_export=!1,e.next=13,this.RemoveTokenDie();case 13:case"end":return e.stop()}}),e,this)}))),function(){return T.apply(this,arguments)}),GetInfo:(w=Object(r.a)(regeneratorRuntime.mark((function e(){var t,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.post("/api/account/info");case 2:return t=e.sent,data=t.data,this.type=data.package,e.next=7,this.GetPermission();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)}),GetPermission:(y=Object(r.a)(regeneratorRuntime.mark((function e(){var t,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.get("/api/package",{params:{type:this.type}});case 2:return t=e.sent,data=t.data,e.abrupt("return",this.list_permission_use=data[0].permission);case 5:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)}),filter_type:(x=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.type_cookie=t,e.next=3,this.LoadToken();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)}),UpdateLive:(_=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.live=t,e.next=3,this.LoadToken();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)}),handleSelectionChange:function(e){this.multipleSelection=e},Status:function(e){return e?{type:"success",text:"Live"}:{type:"danger",text:"Die"}},ShowToken:function(e){e.id;var t=e.access_token,n=(e.cookie,e.name);this.$prompt("","Token "+n,{inputValue:t})},ShowCookie:function(e){e.id,e.access_token;var t=e.cookie,n=e.name;this.$prompt("","Cookie "+n,{inputValue:t})},GetCountToken:(v=Object(r.a)(regeneratorRuntime.mark((function e(){var t,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.get("/api/token/count");case 2:return t=e.sent,data=t.data,this.count_token=data.count_token,this.count_cookie=data.count_cookie,this.count=data.count,this.count_live=data.count_live,this.count_die=data.count_die,this.count_used=data.count_used,e.abrupt("return");case 11:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)}),GetListToken:(m=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={limit:this.limit,skip:(this.pager-1)*this.limit,where:{live:this.live,cookie:this.cookie}},e.next=3,this.$axios.get("/api/token",{params:t});case 3:return n=e.sent,data=n.data,e.abrupt("return",this.list_token=data);case 6:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)}),LoadToken:(k=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading_data=!0,e.next=3,Promise.all([this.GetCountToken(),this.GetListToken()]);case 3:return this.loading_data=!1,!0===this.live?this.count_pagination=this.count_live:!1===this.live?this.count_pagination=this.count_die:void 0===this.live&&(this.count_pagination=this.count),e.abrupt("return");case 6:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)}),MakeAddToken:(h=Object(r.a)(regeneratorRuntime.mark((function e(text){var t,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.post("/api/token/add",{text:text});case 3:if(t=e.sent,!(data=t.data).error){e.next=7;break}throw data.error;case 7:return this.$notify({title:"Đã lưu tài khoản",message:"Thêm tài khoản thành công",type:"success"}),e.next=10,this.LoadToken();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.$notify({title:"Có lỗi xảy ra",message:e.t0,type:"error"});case 15:return this.cookie_token=this.cookie_token.split("\n").map((function(e){return e.trim()})).filter((function(e){return e!==text})).join("\n"),e.abrupt("return");case 17:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(e){return h.apply(this,arguments)}),AddToken:(f=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,text;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loading_AddToken=!0,t=o(this.list_cookie_token),e.prev=2,t.s();case 4:if((n=t.n()).done){e.next=10;break}return text=n.value,e.next=8,this.MakeAddToken(text);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:return this.loading_AddToken=!1,e.abrupt("return");case 20:case"end":return e.stop()}}),e,this,[[2,12,15,18]])}))),function(){return f.apply(this,arguments)}),RemoveToken:(d=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o(this.multipleSelection),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}return r=n.value,c=r.id,l=r.name,e.next=7,this.$axios.delete("/api/token/"+c);case 7:return e.next=9,this.LoadToken();case 9:this.$message({type:"error",message:"Đã xóa "+l});case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))),function(){return d.apply(this,arguments)}),Check:(l=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading_check=!0,e.next=3,this.$axios.post("/api/token/check");case 3:return e.next=5,this.LoadToken();case 5:return this.loading_check=!1,e.abrupt("return");case 7:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})}},z=L,$=n(108),component=Object($.a)(z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.permission.includes("quan-ly-token")?n("div",[n("el-tabs",{attrs:{type:"border-card"},model:{value:e.active_tab,callback:function(t){e.active_tab=t},expression:"active_tab"}},[n("el-tab-pane",{attrs:{name:"b"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-user-solid"}),e._v(" Token")]),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:24,align:"left",offset:0}},[n("el-input",{attrs:{spellcheck:"false",type:"textarea",rows:5,placeholder:"Nhập danh sách cookie,token ..."},model:{value:e.cookie_token,callback:function(t){e.cookie_token=t},expression:"cookie_token"}})],1)],1),e._v(" "),n("br"),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{align:"left",span:12,offset:0}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",loading:e.loading_AddToken,plain:!1,round:!1,circle:!1,autofocus:!1,size:"mini",disabled:!1},on:{click:e.AddToken}},[e._v("Confirm")]),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",loading:e.loading_check,plain:!1,round:!1,circle:!1,autofocus:!1,size:"mini",disabled:!1},on:{click:e.Check}},[e._v("Refresh")]),e._v(" "),n("el-tooltip",{attrs:{effect:"dark",content:"Tổng số lượng",placement:"top-start"}},[n("el-button",{attrs:{type:"info",icon:"el-icon-user-solid\n\t\t\t\t\t\t",loading:!1,plain:!1,round:!1,circle:!1,autofocus:!1,size:"mini",disabled:!1},on:{click:function(t){return e.UpdateLive(void 0)}}},[e._v(e._s(e.count)+" Token")])],1),e._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-right",loading:e.loading_export,plain:!1,round:!1,circle:!1,autofocus:!1,size:"mini",disabled:!1},on:{click:e.ExportTokenDie}},[e._v("Export Token Die")]),e._v(" "),n("el-popconfirm",{attrs:{title:"Bạn có chắc chắn?",confirmButtonText:"OK",cancelButtonText:"Không,cảm ơn.",icon:"el-icon-info",iconColor:"red"},on:{confirm:e.RemoveToken}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.multipleSelection.length>0,expression:"multipleSelection.length > 0"}],staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"danger",icon:"el-icon-delete-solid\n\t\t\t\t\t\t\t",loading:!1,plain:!1,round:!1,circle:!1,autofocus:!1,size:"mini",disabled:!1},slot:"reference"},[e._v("Xóa "+e._s(e.multipleSelection.length)+" token")])],1)],1),e._v(" "),n("el-col",{attrs:{align:"right",span:12,offset:0}},[n("el-button-group",{attrs:{size:"mini"}},[n("el-tooltip",{attrs:{effect:"dark",content:"Đang sử dụng",placement:"top-start"}},[n("el-button",{attrs:{type:"warning",icon:"el-icon-right",loading:!1,plain:!0,round:!1,circle:!1,autofocus:!1,size:"mini",disabled:!1}},[e._v(e._s(e.count_used)+" running")])],1),e._v(" "),n("el-tooltip",{attrs:{effect:"dark",content:"Đang hoạt động",placement:"top-start"}},[n("el-button",{attrs:{size:"mini",icon:"el-icon-check",type:"success"},on:{click:function(t){return e.UpdateLive(!0)}}},[e._v(e._s(e.count_live)+" Live")])],1),e._v(" "),n("el-tooltip",{attrs:{effect:"dark",content:"Ngừng hoạt động",placement:"top-start"}},[n("el-button",{attrs:{size:"mini",icon:"el-icon-close",type:"danger"},on:{click:function(t){return e.UpdateLive(!1)}}},[e._v(e._s(e.count_die)+" Die")])],1)],1)],1)],1),e._v(" "),n("br"),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{align:"left",span:24,offset:0}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_data,expression:"loading_data"}],staticStyle:{width:"100%"},attrs:{data:e.list_token,border:!0,"highlight-current-row":!0,stripe:!1,lazy:!1,"show-summary":!1,"tooltip-effect":"dark","element-loading-text":"Loading..."},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),e._v(" "),n("el-table-column",{attrs:{label:"UID",align:"center",sortable:!1,fixed:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{type:"primary",closable:!1,effect:"plain",size:"large","disable-transitions":!1}},[e._v(e._s(t.row.uid))])]}}],null,!1,812283189)}),e._v(" "),n("el-table-column",{attrs:{label:"Name",prop:"name",align:"center",sortable:!1,fixed:!1}}),e._v(" "),n("el-table-column",{attrs:{align:"center",sortable:!1,fixed:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.cookie.includes("c_user")?n("el-tag",{attrs:{closable:!1,effect:"dark",size:"large","disable-transitions":!1}},[e._v("Cookie")]):e._e(),e._v(" "),t.row.cookie.includes("c_user")?e._e():n("el-tag",{attrs:{closable:!1,effect:"dark",size:"large","disable-transitions":!1}},[e._v("Token")])]}}],null,!1,3665829550)},[n("template",{slot:"header"},[n("el-dropdown",{attrs:{size:"mini"},on:{command:e.filter_type}},[n("span",{staticClass:"el-dropdown-link"},[e._v("\n\n\t\t\t\t\t\t\t\t\t\tType "),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.list_type,(function(data,t){return n("el-dropdown-item",{key:t,attrs:{command:data.value}},[n("el-tag",{staticStyle:{"margin-top":"5px"},attrs:{type:data.type,closable:!1,effect:"dark",size:"small","disable-transitions":!1}},[e._v("  "+e._s(data.label))])],1)})),1)],1)],1)],2),e._v(" "),n("el-table-column",{attrs:{align:"center",sortable:!1,fixed:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{type:e.Status(t.row.live).type,closable:!1,effect:"dark",size:"large","disable-transitions":!1}},[e._v(e._s(e.Status(t.row.live).text))])]}}],null,!1,3075471362)})],1),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),n("el-pagination",{attrs:{total:e.count,"page-size":e.limit,"current-page":e.pager,"pager-count":11,"hide-on-single-page":!1,background:"",layout:"prev, pager, next"},on:{"current-change":e.LoadToken,"update:currentPage":function(t){e.pager=t},"update:current-page":function(t){e.pager=t}}})],1)],1)],1),e._v(" "),n("el-tab-pane",{attrs:{name:"a"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-crop"}),e._v(" Convert")]),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{align:"right",span:24,offset:0}},[n("el-tag",{attrs:{type:"danger",closable:!1,effect:"dark",size:"mini","disable-transitions":!1}},[e._v(e._s(e.list_cookie.length)+" cookies")])],1)],1),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:24,align:"left",offset:0}},[n("el-input",{attrs:{spellcheck:"false",type:"textarea",rows:5,placeholder:"Nhập danh sách cookie,token ..."},model:{value:e.cookie_text,callback:function(t){e.cookie_text=t},expression:"cookie_text"}})],1)],1),e._v(" "),n("br"),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{align:"center",span:24,offset:0}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-right",loading:e.loading_convert,plain:!1,round:!1,circle:!1,autofocus:!1,size:"mini",disabled:!1},on:{click:e.ConvertToken}},[e._v("Convert")])],1)],1),e._v(" "),n("br"),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{align:"left",span:24,offset:0}},[n("el-input",{attrs:{spellcheck:"false",type:"textarea",rows:30,placeholder:"EAAB ..."},model:{value:e.token_fullpermission,callback:function(t){e.token_fullpermission=t},expression:"token_fullpermission"}})],1)],1)],1)],1)],1):e._e()}),[],!1,null,"e45c44c2",null);t.default=component.exports}}]);