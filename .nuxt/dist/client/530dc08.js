(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{478:function(t,e,n){"use strict";n.r(e);var r,l,o,c,f,h,d=n(6),m=(n(41),n(15),n(42),n(44),{data:function(){return{info:{id:"",email:"",phone:"",limit_phone:0,limit_time:0,package:""},info_rules:{email:[{required:!0,message:"Bạn phải nhập Email"}],phone:[{required:!0,message:"Bạn phải nhập số điện thoại"}]},Show_upgrade_dialog:!1,list_package:[],bank:{ho_va_ten:"",stk:"",ngan_hang:"",chi_nhanh:""}}},created:(h=Object(d.a)(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.GetInfo(),this.GetBank()]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return h.apply(this,arguments)}),methods:{TimeLeft:function(t){var time=t-Date.now();return parseInt(time/864e5)},GetInfo:(f=Object(d.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post("/api/account/info");case 2:return e=t.sent,data=e.data,t.abrupt("return",this.info=data);case 5:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)}),Update_Profile:(c=Object(d.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post("/api/account/update-info",this.info);case 2:return t.sent.data,t.next=6,this.GetInfo();case 6:this.$notify({title:"Chúc mừng",message:"Bạn đã cập nhật tài khoản thành công",type:"success"});case 7:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)}),GetBank:(o=Object(d.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.get("/api/bank");case 2:e=t.sent,(data=e.data).length>0&&(this.bank=data[0]);case 5:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)}),GetPackage:(l=Object(d.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.get("/api/package?limit=10000000");case 2:return e=t.sent,data=e.data,t.abrupt("return",this.list_package=data);case 5:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)}),Show_upgrade:(r=Object(d.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.GetPackage();case 2:this.Show_upgrade_dialog=!0;case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}}),_=m,v=n(108),component=Object(v.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{align:"left",span:24,offset:0}},[n("el-form",{ref:"register",attrs:{rules:t.info_rules,model:t.info,"status-icon":"","label-width":"120px","label-position":"left",inline:!1,disabled:!1,"inline-message":!1,"show-message":"","validate-on-rule-change":"",size:"medium"}},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:12,offset:0}},[n("el-form-item",{staticClass:"field",attrs:{label:"Email",prop:"email",align:"left"}},[n("el-input",{attrs:{placeholder:"",size:"small",clearable:"",type:"text",autosize:!1,disabled:!1,autocomplete:"off"},model:{value:t.info.email,callback:function(e){t.$set(t.info,"email",e)},expression:"info.email"}})],1),t._v(" "),n("el-form-item",{staticClass:"field",attrs:{label:"Phone",prop:"phone",align:"left"}},[n("el-input",{attrs:{placeholder:"",size:"small",clearable:"",type:"text",autosize:!1,disabled:!1,autocomplete:"off"},model:{value:t.info.phone,callback:function(e){t.$set(t.info,"phone",e)},expression:"info.phone"}})],1),t._v(" "),n("el-form-item",{staticClass:"field",attrs:{label:"Package",align:"left"}},[n("el-tag",{attrs:{type:"success",closable:!1,effect:"dark",size:"large","disable-transitions":!1}},[t._v(t._s(t.info.package.toUpperCase()))])],1),t._v(" "),n("el-form-item",{staticClass:"field",attrs:{label:"Limit Phone",align:"left"}},[n("el-tag",{attrs:{type:"primary",closable:!1,effect:"plain",size:"large","disable-transitions":!1}},[t._v(t._s(t.info.limit_phone.toLocaleString())+" Point")])],1),t._v(" "),n("el-form-item",{staticClass:"field",attrs:{label:"Limit Time",align:"left"}},[n("el-tag",{attrs:{type:"warning",closable:!1,effect:"plain",size:"large","disable-transitions":!1}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.TimeLeft(t.info.limit_time))+" ngày sử dụng\n\t\t\t\t\t\t\t")])],1)],1),t._v(" "),n("el-col",{attrs:{align:"left",span:12,offset:0}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-cloudy",loading:!1,plain:!1,round:!1,circle:!1,autofocus:!1,size:"mini",disabled:!1},on:{click:t.Show_upgrade}},[t._v("Nâng cấp gói cước")])],1)],1),t._v(" "),n("br"),t._v(" "),n("el-form-item",{attrs:{calign:"center"}},[n("el-button",{attrs:{type:"primary",icon:"",loading:!1,plain:!1,round:!1,circle:!1,autofocus:!1,size:"mini",disabled:!1},on:{click:t.Update_Profile}},[t._v("UPDATE PROFILE")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"Nâng cấp gói cước",visible:t.Show_upgrade_dialog,center:!1,fullscreen:!1,top:"15vh",width:"700px"},on:{"update:visible":function(e){t.Show_upgrade_dialog=e}}},[n("el-alert",{attrs:{"show-icon":"",description:"Nội dung chuyển khoản: TÊN GÓI CƯỚC + SỐ ĐIỆN THOẠI",title:t.bank.stk+" - "+t.bank.ho_va_ten+" - "+t.bank.ngan_hang+" - "+t.bank.chi_nhanh,type:"success"}}),t._v(" "),n("br"),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list_package,"max-height":"500",border:!0,"highlight-current-row":!0,stripe:!1,lazy:!1,"show-summary":!1,"tooltip-effect":"light"}},[n("el-table-column",{attrs:{label:"Tên",align:"left",sortable:!1,fixed:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{attrs:{type:"primary",closable:!1,effect:"plain",size:"large","disable-transitions":!1}},[t._v(t._s(e.row.type.toUpperCase()))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Số lượng (sđt)",align:"left",sortable:!1,fixed:!1,width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t"+t._s(e.row.limit_phone.toLocaleString())+"  \n\t\t\t\t\t")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Thời gian (ngày)",align:"left",sortable:!1,fixed:!1,width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t"+t._s(e.row.limit_time.toLocaleString())+" \n\t\t\t\t\t")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Giá",align:"left",sortable:!1,fixed:!1,width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t"+t._s(e.row.price.toLocaleString())+" \n\t\t\t\t\t")]}}])})],1)],1)],1)],1)}),[],!1,null,"9f26e2e2",null);e.default=component.exports}}]);