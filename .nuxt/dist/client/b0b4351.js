(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{479:function(t,e,r){"use strict";r.r(e);var n,o,c,l,m,h,f,d,w,x=r(6),y=(r(41),r(45),r(15),r(42),r(44),{data:function(){return{time:0,Data_Loading:!1,url:"",list_post:[],pager:1,limit:100,count_post:0,list_permission_use:[]}},created:(w=Object(x.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.GetInfo();case 2:return t.next=4,Promise.all([this.ListPost(),this.GetDelayTime()]);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)}),computed:{where:function(){return{url:{contains:this.url}}},permission:function(){return this.list_permission_use.map((function(t){return t.value}))}},methods:{GetInfo:(d=Object(x.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post("/api/account/info");case 2:return e=t.sent,data=e.data,this.type=data.package,t.next=7,this.GetPermission();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)}),GetPermission:(f=Object(x.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.get("/api/package",{params:{type:this.type}});case 2:return e=t.sent,data=e.data,t.abrupt("return",this.list_permission_use=data[0].permission);case 5:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)}),UpdateDelayTime:(h=Object(x.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post("/api/delaydefault",{time:this.time});case 2:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)}),GetDelayTime:(m=Object(x.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.get("/api/delaydefault");case 2:return e=t.sent,data=e.data,t.abrupt("return",this.time=data.length>0?data[0].time:5);case 5:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)}),ListPost:(l=Object(x.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.Data_Loading=!0,t.next=3,Promise.all([this.GetListPost(),this.CoutListPost()]);case 3:this.Data_Loading=!1;case 4:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)}),GetListPost:(c=Object(x.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post("/api/admin/all-post",{pager:this.pager,limit:this.limit,where:this.where});case 2:return e=t.sent,data=e.data,this.list_post=data,t.abrupt("return");case 6:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)}),ChangeDelayTime:(o=Object(x.a)(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,n=e.delay,t.next=3,this.$axios.patch("/api/urlscan/"+r,{delay:n});case 3:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)}),CoutListPost:(n=Object(x.a)(regeneratorRuntime.mark((function t(){var e,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post("/api/admin/count-post",{pager:this.pager,limit:this.limit,where:this.where});case 2:return e=t.sent,data=e.data,this.count_post=data.count,t.abrupt("return");case 6:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}}),v=y,_=r(108),component=Object(_.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.permission.includes("quan-ly-token")?r("div",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{align:"left",span:21,offset:0}},[r("el-input",{attrs:{placeholder:"Url ...",size:"medium",clearable:"",type:"text",autosize:!1,disabled:!1,autocomplete:"off"},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1),t._v(" "),r("el-col",{attrs:{align:"right",span:3,offset:0}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:!1,plain:!1,round:!1,circle:!1,autofocus:!1,size:"medium",disabled:!1},on:{click:t.GetListPost}},[t._v("Search")])],1)],1),t._v(" "),r("br"),t._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{align:"left",span:24,offset:0}},[r("el-tooltip",{attrs:{effect:"dark",content:"Default delay time (giây)",placement:"top-start"}},[r("el-input-number",{attrs:{size:"mini","controls-position":"right",step:1,min:1,max:1e11},on:{change:t.UpdateDelayTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.Data_Loading,expression:"Data_Loading"}],staticStyle:{width:"100%"},attrs:{data:t.list_post,"max-height":"500",border:!0,"highlight-current-row":!0,stripe:!1,lazy:!1,"show-summary":!1,"tooltip-effect":"dark","element-loading-text":"Loading..."}},[r("el-table-column",{attrs:{label:"URL",align:"center",sortable:!1,fixed:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-link",{attrs:{href:e.row.url,target:"_blank",underline:!1}},[t._v(t._s(e.row.url))])]}}],null,!1,3174207588)}),t._v(" "),r("el-table-column",{attrs:{label:"Delay time",align:"center",width:"200px",sortable:!1,fixed:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tooltip",{attrs:{effect:"dark",content:"Giây",placement:"top-start"}},[r("el-input-number",{attrs:{size:"mini","controls-position":"right",step:1,min:1,max:1e11},on:{change:function(r){return t.ChangeDelayTime(e.row)}},model:{value:e.row.delay,callback:function(r){t.$set(e.row,"delay",r)},expression:"scope.row.delay"}})],1)]}}],null,!1,4165317823)})],1)],1)],1),t._v(" "),r("br"),t._v(" "),r("el-pagination",{attrs:{total:t.count_post,"page-size":t.limit,"current-page":t.pager,"pager-count":11,"hide-on-single-page":!1,background:"",layout:"prev, pager, next"},on:{"current-change":t.ListPost,"update:currentPage":function(e){t.pager=e},"update:current-page":function(e){t.pager=e}}})],1):t._e()}),[],!1,null,"a9687726",null);e.default=component.exports}}]);